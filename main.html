<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>主页面</title>
    <script src="js/jquery.js" type="text/javascript"></script>
    <link rel="stylesheet" href="./css/audio.css">
    <link rel="stylesheet" href="./css/base.css">
    <script type="text/javascript" src="js/main.js"></script>
    <script type="text/javascript" src="js/audio.js"></script>
    <style>
        iframe {
            border: none;
            width: 100vw;
            height: 56.25vw; /* 100/56.25 = 560/315 = 1.778 */
            margin: -4px 0px 0px 0px;
        }
        body{
            overflow: hidden;
        }
        #hide_btn{
            font: 14px "Consolas";
            float: right;
            padding: 3px 10px;
            /*display: none;*/
        }
        #hide_btn a{
            color: white;
        }
    </style>
   <script>

//       function confirmExit() {
//           document.getElementById('child').contentWindow.location.reload(true);
//       }
   </script>
</head>
<body id="main_body">
<iframe  id="child" src="index.html"></iframe>
<div class="audio-box">
    <span id="hide_btn"><a href="#">隐藏</a></span>
    <div class="audio-container">
        <div class="audio-cover"></div>
        <div class="audio-view">
            <h3 class="audio-title"><a href="#">未知歌曲</a></h3>
            <div class="audio-body">
                <div class="audio-backs">
                    <div class="audio-this-time">00:00</div>
                    <div class="audio-count-time">00:00</div>
                    <div class="audio-setbacks">
                        <i class="audio-this-setbacks">
                            <span class="audio-backs-btn"></span>
                        </i>
                        <span class="audio-cache-setbacks">
							</span>
                    </div>
                </div>
            </div>
            <div class="audio-btn">
                <div class="audio-select">
                    <div class="audio-prev"></div>
                    <div class="audio-play"></div>
                    <div class="audio-next"></div>
                    <div class="audio-volume"></div>
                </div>
                <div class="audio-set-volume">
                    <div class="volume-box">
                        <i><span></span></i>
                    </div>
                </div>
                <div class="audio-list">
                    <div class="audio-list-head">
                        <p>☺随心听</p>
                        <span class="menu-close">关闭</span>
                    </div>
                    <ul class="audio-inline">
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    $(function(){
        var song = [
            {
                'cover' : 'img/gnzw.jpg',
                'src' : './test/test.mp3',
                'title' : '光年之外 - G.E.M.邓紫棋'
            }
        ];

        var audioFn = audioPlay({
            song : song,
            autoPlay : true  //是否立即播放第一首，autoPlay为true且song为空，会alert文本提示并退出
        });

        /* 向歌单中添加新曲目，第二个参数true为新增后立即播放该曲目，false则不播放 */
        audioFn.newSong({
            'cover' : '../img/cover4.jpg',
            'src' : 'http://so1.111ttt.com:8282/2016/5/06m/06/199061931237.m4a?tflag=1494769315&pin=a0b26b2dddd976d74724841f6d2641d6&ip=114.233.172.33#.mp3',
            'title' : '极乐净土 - GARNiDELiA'
        },false);

        /* 暂停播放 */
        audioFn.stopAudio();

        /* 开启播放 */
        audioFn.playAudio();

        /* 选择歌单中索引为3的曲目(索引是从0开始的)，第二个参数true立即播放该曲目，false则不播放 */
        audioFn.selectMenu(3,true);

        /* 查看歌单中的曲目 */
        console.log(audioFn.song);

        /* 当前播放曲目的对象 */
        console.log(audioFn.audio);
    });
</script>
</body>
</html>